**分布式系统是一个硬件或软件组件分布在不同的网络计算机中上，彼此之间仅仅通过消息传递进行通信和协调的系统**。

计算机系统从**集中式到分布式**的变革伴随着包括**分布式网络**、**分布式事务**、**分布式数据一致性**等在内的一系列问题和挑战，同时也催生了一大批诸如**`ACID`、`CAP`和 `BASE`** 等经典理论的快速发展。

为了解决分布式一致性问题，涌现出了一大批经典的一致性协议和算法，最为著名的就是二阶段提交协议（2PC），三阶段提交协议（3PC）和`Paxos`算法。`Zookeeper`的一致性是通过基于 `Paxos` 算法的 `ZAB` 协议完成的。

**ACID**（`Atomicity`原子性，`Consistency`一致性，`Isolation`隔离性，`Durability`持久性）是事务的特点，具有强一致性，一般用于单机事务，分布式事务若采用这个原则会丧失一定的可用性，属于`CP`系统。

**CAP**（`Consistency`一致性，`Availability`可用性，`Partition tolerance`分区容错性）理论是当前分布式系统公认的理论，亦即一个分布式系统不可能同时满足这三个特性，只能三求其二。对于分布式系统，`P`是基本要求，如果没有`P`就不是分布式系统了，所以一般都是在满足`P`的情况下，在`C`和`A`之间寻求平衡。

**BASE**（`Basically Availabe`基本可用，`Soft state`软状态，`Eventually consistency`最终一致性）理论是对大规模的互联网分布式系统实践的总结，用弱一致性来换取可用性，不同于ACID，属于`AP`系统。

BASE理论由eBay的架构师Dan Pritchett提出，**BASE理论是对CAP理论**的延伸，核心思想是即使无法做到强一致性，应用应该可以采用合适的方式达到最终一致性。BASE是指**基本可用（Basically Available）、软状态（ Soft State）、最终一致性（ Eventual Consistency）**。

- 基本可用：指分布式系统在出现故障的时候，允许损失部分可用性，即保证核心可用。
- 软状态：允许系统存在中间状态，而该中间状态不会影响系统整体可用性。分布式存储中一般一份数据至少会有三个副本，允许不同节点间副本同步的延时就是软状态的体现。
- 最终一致性：最终一致性是指系统中的所有数据副本经过一定时间后，最终能够达到一致的状态。弱一致性和强一致性相反，最终一致性是弱一致性的一种特殊情况。



# Paxos





# Eureka

